# @package _global_

defaults:
  - mc_openqa
  - override /datamodule/builder: openqa
  - override /datamodule/transform: language_model
  # - override /datamodule/preprocessing_op: mc_to_generative
base:
  batch_size: 32
  device_batch_size: 1
  eval_device_batch_size: 2
  infer_batch_mul: 1_600
  target_mode: min
  target_metric: validation/loss

model:
  module:
    skip_retriever: true
    skip_reader: false
    eval_chunksize: 300

trainer:
  val_check_interval: 500

datamodule:
  n_documents: 4
  concat_qa: false
  es_weight: 0

logger:
  wandb:
    group: gen-openqa-${datamodule.dset_name}
    name: ${base.exp_id}
